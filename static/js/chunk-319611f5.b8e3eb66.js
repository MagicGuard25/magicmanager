(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-319611f5"],{"0b59":function(e,t,a){"use strict";function o(e,t,a){try{window.androidFunction.setBoolSetting(e,t,a)}catch(o){}}function l(e,t,a){try{window.androidFunction.setIntSetting(e,parseInt(t),a)}catch(o){}}function n(e,t,a){try{window.androidFunction.setStringSetting(e,t,a)}catch(o){}}function r(e,t,a){try{window.androidFunction.setFloatSetting(e,parseFloat(t),a)}catch(o){}}a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return r}))},1146:function(e,t,a){},"21a7":function(e,t,a){"use strict";a("68ef"),a("cb51"),a("3743"),a("1a04"),a("1146")},"30ac":function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var o=a("23f9"),l=a("7a23"),n=a("1fba"),r=a("e5f6"),c=a("5aa0"),i=a("fa7c"),u=a("8db7"),s=a("450f"),d=a("d7d5");const[b,f]=Object(n["a"])("slider"),g={min:Object(r["c"])(0),max:Object(r["c"])(100),step:Object(r["c"])(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:r["f"],buttonSize:r["f"],activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var v=Object(l["defineComponent"])({name:b,props:g,emits:["change","dragEnd","dragStart","update:modelValue"],setup(e,{emit:t,slots:a}){let o,n,r;const b=Object(l["ref"])(),g=[Object(l["ref"])(),Object(l["ref"])()],v=Object(l["ref"])(),m=Object(d["a"])(),j=Object(l["computed"])(()=>Number(e.max)-Number(e.min)),p=Object(l["computed"])(()=>{const t=e.vertical?"width":"height";return{background:e.inactiveColor,[t]:Object(c["b"])(e.barHeight)}}),O=t=>e.range&&Array.isArray(t),h=()=>{const{modelValue:t,min:a}=e;return O(t)?100*(t[1]-t[0])/j.value+"%":100*(t-Number(a))/j.value+"%"},V=()=>{const{modelValue:t,min:a}=e;return O(t)?100*(t[0]-Number(a))/j.value+"%":"0%"},y=Object(l["computed"])(()=>{const t=e.vertical?"height":"width",a={[t]:h(),background:e.activeColor};v.value&&(a.transition="none");const o=()=>e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left";return a[o()]=V(),a}),x=t=>{const a=+e.min,o=+e.max,l=+e.step;t=Object(c["d"])(t,a,o);const n=Math.round((t-a)/l)*l;return Object(c["a"])(a,n)},C=()=>{const t=e.modelValue;r=O(t)?t.map(x):x(t)},w=t=>{var a,o;const l=null!=(a=t[0])?a:Number(e.min),n=null!=(o=t[1])?o:Number(e.max);return l>n?[n,l]:[l,n]},N=(a,o)=>{a=O(a)?w(a).map(x):x(a),Object(i["j"])(a,e.modelValue)||t("update:modelValue",a),o&&!Object(i["j"])(a,r)&&t("change",a)},S=t=>{if(t.stopPropagation(),e.disabled||e.readonly)return;C();const{min:a,reverse:o,vertical:l,modelValue:n}=e,r=Object(s["useRect"])(b),c=()=>l?o?r.bottom-t.clientY:t.clientY-r.top:o?r.right-t.clientX:t.clientX-r.left,i=l?r.height:r.width,u=Number(a)+c()/i*j.value;if(O(n)){const[e,t]=n,a=(e+t)/2;N(u<=a?[u,t]:[e,u],!0)}else N(u,!0)},k=t=>{e.disabled||e.readonly||(m.start(t),n=e.modelValue,C(),v.value="start")},T=a=>{if(e.disabled||e.readonly)return;"start"===v.value&&t("dragStart",a),Object(u["e"])(a,!0),m.move(a),v.value="dragging";const l=Object(s["useRect"])(b),c=e.vertical?m.deltaY.value:m.deltaX.value,i=e.vertical?l.height:l.width;let d=c/i*j.value;if(e.reverse&&(d=-d),O(r)){const t=e.reverse?1-o:o;n[t]=r[t]+d}else n=r+d;N(n)},I=a=>{e.disabled||e.readonly||("dragging"===v.value&&(N(n,!0),t("dragEnd",a)),v.value="")},B=t=>{if("number"===typeof t){const e=["left","right"];return f("button-wrapper",e[t])}return f("button-wrapper",e.reverse?"left":"right")},M=(t,r)=>{const i="dragging"===v.value;if("number"===typeof r){const e=a[0===r?"left-button":"right-button"];let l;if(i&&Array.isArray(n)&&(l=n[0]>n[1]?1^o:o),e)return e({value:t,dragging:i,dragIndex:l})}return a.button?a.button({value:t,dragging:i}):Object(l["createVNode"])("div",{class:f("button"),style:Object(c["f"])(e.buttonSize)},null)},A=t=>{const a="number"===typeof t?e.modelValue[t]:e.modelValue;return Object(l["createVNode"])("div",{ref:g[null!=t?t:0],role:"slider",class:B(t),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":a,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstartPassive:e=>{"number"===typeof t&&(o=t),k(e)},onTouchend:I,onTouchcancel:I,onClick:u["i"]},[M(a,t)])};return N(e.modelValue),Object(s["useCustomFieldValue"])(()=>e.modelValue),g.forEach(e=>{Object(s["useEventListener"])("touchmove",T,{target:e})}),()=>Object(l["createVNode"])("div",{ref:b,style:p.value,class:f({vertical:e.vertical,disabled:e.disabled}),onClick:S},[Object(l["createVNode"])("div",{class:f("bar"),style:y.value},[e.range?[A(0),A(1)]:A()])])}});const m=Object(o["a"])(v)},"4d86":function(e,t,a){"use strict";a("68ef"),a("5c56")},"5c56":function(e,t,a){},"69cf":function(e,t,a){"use strict";a.r(t);var o=a("f23a"),l=(a("21a7"),a("30ac")),n=(a("c9ab"),a("5f24")),r=(a("ac6b"),a("dda5")),c=(a("fc63"),a("9a1c")),i=(a("89a0"),a("a136")),u=(a("4d86"),a("6c44")),s=(a("aa5a"),a("e31f")),d=(a("72ff"),a("7a23")),b=a("0b59"),f=(a("2849"),a("72b2"));const g={class:"custom-button"};var v={__name:"SoftSettingsView",setup(e){const t=Object(d["ref"])(!1),a=Object(d["ref"])(!1),v=(Object(d["ref"])(!1),Object(d["ref"])(!1),Object(d["ref"])(!1),Object(d["ref"])(!1)),m=Object(d["ref"])({hiddenTopBar:!0,playFullScreen:!0,ui4Navbar:!1,justGoToVideoRecoder:!1,firstVideoTab:0,waterMarkSelf:!0,use265:!0,isBydAPA:!1,goodIndex:!1,parkingCarOutput:3,parkingCarMode:6,parkingCarRotation:1,parkingCarApaMode:0,parkingCarApaMode2:0,cameraWidth:-1,cameraD:0,cameraHeight:-1,cameraChannel:-1,micChannel:0,micDouble:!1});let j=localStorage.getItem("pictureWidth");const p=Object(d["ref"])(210);p.value=j?parseInt(j):210;let O=localStorage.getItem("fontsize");const h=Object(d["ref"])(O?parseInt(O):10);let V=localStorage.getItem("textlocation");const y=Object(d["ref"])(!V||1==parseInt(V));let x=localStorage.getItem("themeauto");const C=Object(d["ref"])(!x||1==parseInt(x));function w(){y.value?localStorage.setItem("textlocation",1):localStorage.setItem("textlocation",0)}function N(){C.value?localStorage.setItem("themeauto",1):localStorage.setItem("themeauto",0)}let S=localStorage.getItem("pictureHeight");const k=Object(d["ref"])(210/1.7);k.value=S?parseInt(S):210/1.7;Object(d["ref"])(!1),Object(d["ref"])(!1);function T(){try{let e=window.androidFunction.getSoftSettings();m.value=JSON.parse(e)}catch(e){}}function I(e,t){if(e){let a=e.find(e=>e.value==t);if(a)return a.text}}function B(){k.value=p.value/1.7,h.value=k.value/10,localStorage.setItem("fontsize",h.value),localStorage.setItem("pictureWidth",p.value),localStorage.setItem("pictureHeight",k.value)}const M=({selectedOptions:e})=>{v.value=!1,m.value.firstVideoTab=e[0].value,b["c"]("firstVideoTab",m.value.firstVideoTab,0)},A=[{text:"侦测记录",value:0},{text:"熄火视频",value:1},{text:"行车视频",value:2},{text:"手动录制",value:3}];function _(e){localStorage.setItem("tryBeta",e)}return Object(d["onMounted"])(()=>{T(),a.value=localStorage.getItem("tryBeta"),null==a.value?a.value=!1:a.value="true"==a.value}),(e,j)=>{const O=s["a"],h=u["a"],V=i["a"],x=c["a"],S=r["a"],k=n["a"],T=l["a"],E=o["a"];return Object(d["openBlock"])(),Object(d["createElementBlock"])("main",null,[Object(d["createVNode"])(V,{inset:"",style:{"margin-top":"20px"}},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(h,{center:"",label:"开启则接收测试版本提醒，关闭则只接收稳定版本的更新提醒","is-link":""},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 接收测试版更新提示 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(O,{modelValue:a.value,"onUpdate:modelValue":j[0]||(j[0]=e=>a.value=e),onChange:j[1]||(j[1]=e=>_(a.value))},null,8,["modelValue"])]),_:1})]),_:1}),Object(d["createVNode"])(V,{inset:"",style:{"margin-top":"20px"}},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(h,{center:"",label:"根据系统主题自动切换日夜模式","is-link":""},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 跟随系统主题 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(O,{modelValue:C.value,"onUpdate:modelValue":j[2]||(j[2]=e=>C.value=e),onChange:N},null,8,["modelValue"])]),_:1}),Object(d["createVNode"])(h,{center:"",label:"开启则隐藏顶栏显示","is-link":""},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 隐藏顶栏显示 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(O,{modelValue:m.value.hiddenTopBar,"onUpdate:modelValue":j[3]||(j[3]=e=>m.value.hiddenTopBar=e),onChange:j[4]||(j[4]=e=>b["a"]("hiddenTopBar",m.value.hiddenTopBar))},null,8,["modelValue"])]),_:1}),Object(d["createVNode"])(h,{center:"",label:"开启则视频播放时全屏播放","is-link":""},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 全屏播放视频 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(O,{modelValue:m.value.playFullScreen,"onUpdate:modelValue":j[5]||(j[5]=e=>m.value.playFullScreen=e),onChange:j[6]||(j[6]=e=>b["a"]("playFullScreen",m.value.playFullScreen))},null,8,["modelValue"])]),_:1})]),_:1}),Object(d["createVNode"])(V,{inset:"",style:{"margin-top":"20px"}},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(h,{center:"",label:"打开后默认进入视频记录页面","is-link":""},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 默认进入视频记录页面 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(O,{modelValue:m.value.justGoToVideoRecoder,"onUpdate:modelValue":j[7]||(j[7]=e=>m.value.justGoToVideoRecoder=e),onChange:j[8]||(j[8]=e=>b["a"]("justGoToVideoRecoder",m.value.justGoToVideoRecoder))},null,8,["modelValue"])]),_:1}),m.value.justGoToVideoRecoder?(Object(d["openBlock"])(),Object(d["createBlock"])(h,{key:0,center:"",label:"进入视频记录后默认显示的录制模式","is-link":"",onClick:j[9]||(j[9]=e=>v.value=!0)},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 视频记录页面默认显示 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(Object(d["toDisplayString"])(I(A,m.value.firstVideoTab))+" ",1),Object(d["createVNode"])(x,{name:"arrow"})]),_:1})):Object(d["createCommentVNode"])("",!0),Object(d["createVNode"])(k,{show:v.value,"onUpdate:show":j[11]||(j[11]=e=>v.value=e),round:"",position:"bottom"},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(S,{columns:A,onCancel:j[10]||(j[10]=e=>v.value=!1),onConfirm:M})]),_:1},8,["show"]),Object(d["createVNode"])(h,{center:"",label:"视频记录页面录制时间显示到缩略图下方，不遮挡缩略图","is-link":""},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 文字显示到缩略图下方 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createVNode"])(O,{modelValue:y.value,"onUpdate:modelValue":j[12]||(j[12]=e=>y.value=e),onChange:w},null,8,["modelValue"])]),_:1}),Object(d["createVNode"])(h,{center:"",label:"视频记录页面的预览图的宽度","is-link":"",onClick:j[13]||(j[13]=e=>t.value=!0)},{title:Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(" 预览图宽度 ")]),"right-icon":Object(d["withCtx"])(()=>[Object(d["createTextVNode"])(Object(d["toDisplayString"])(p.value)+" ",1),Object(d["createVNode"])(x,{name:"arrow"})]),_:1}),Object(d["createVNode"])(k,{show:t.value,"onUpdate:show":j[15]||(j[15]=e=>t.value=e),round:"",position:"bottom"},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(E,{name:"slider",label:"预览图宽度",style:{margin:"20px 0",padding:"20px","padding-right":"30px"}},{input:Object(d["withCtx"])(()=>[Object(d["createVNode"])(T,{modelValue:p.value,"onUpdate:modelValue":j[14]||(j[14]=e=>p.value=e),min:120,max:250,step:10,onChange:B},{button:Object(d["withCtx"])(()=>[Object(d["createElementVNode"])("div",g,Object(d["toDisplayString"])(p.value),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["show"])]),_:1}),Object(d["createVNode"])(V,{inset:"",style:{"margin-top":"20px"}},{default:Object(d["withCtx"])(()=>[Object(d["createVNode"])(f["a"])]),_:1})])}}};a("73d2");const m=v;t["default"]=m},"72ff":function(e,t,a){"use strict";a("68ef"),a("e3b3"),a("d9d2")},"73d2":function(e,t,a){"use strict";a("d550")},9617:function(e,t,a){},a136:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var o=a("23f9"),l=a("7a23"),n=a("1fba"),r=a("e5f6"),c=a("d243"),i=a("0baf");const[u,s]=Object(n["a"])("cell-group"),d={title:String,inset:Boolean,border:r["g"]};var b=Object(l["defineComponent"])({name:u,inheritAttrs:!1,props:d,setup(e,{slots:t,attrs:a}){const o=()=>{var o;return Object(l["createVNode"])("div",Object(l["mergeProps"])({class:[s({inset:e.inset}),{[c["e"]]:e.border&&!e.inset}]},a,Object(i["a"])()),[null==(o=t.default)?void 0:o.call(t)])},n=()=>Object(l["createVNode"])("div",{class:s("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?Object(l["createVNode"])(l["Fragment"],null,[n(),o()]):o()}});const f=Object(o["a"])(b)},c9ab:function(e,t,a){"use strict";a("68ef"),a("9617")},d550:function(e,t,a){},d9d2:function(e,t,a){},e31f:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var o=a("23f9"),l=a("7a23"),n=a("1fba"),r=a("e5f6"),c=a("5aa0"),i=a("450f"),u=a("5913");const[s,d]=Object(n["a"])("switch"),b={size:r["f"],loading:Boolean,disabled:Boolean,modelValue:r["h"],activeColor:String,inactiveColor:String,activeValue:{type:r["h"],default:!0},inactiveValue:{type:r["h"],default:!1}};var f=Object(l["defineComponent"])({name:s,props:b,emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const o=()=>e.modelValue===e.activeValue,n=()=>{if(!e.disabled&&!e.loading){const a=o()?e.inactiveValue:e.activeValue;t("update:modelValue",a),t("change",a)}},r=()=>{if(e.loading){const t=o()?e.activeColor:e.inactiveColor;return Object(l["createVNode"])(u["a"],{class:d("loading"),color:t},null)}if(a.node)return a.node()};return Object(i["useCustomFieldValue"])(()=>e.modelValue),()=>{var t;const{size:i,loading:u,disabled:s,activeColor:b,inactiveColor:f}=e,g=o(),v={fontSize:Object(c["b"])(i),backgroundColor:g?b:f};return Object(l["createVNode"])("div",{role:"switch",class:d({on:g,loading:u,disabled:s}),style:v,tabindex:s?void 0:0,"aria-checked":g,onClick:n},[Object(l["createVNode"])("div",{class:d("node")},[r()]),null==(t=a.background)?void 0:t.call(a)])}}});const g=Object(o["a"])(f)},f23a:function(e,t,a){"use strict";a.d(t,"a",(function(){return M}));var o=a("23f9"),l=a("7a23"),n=a("1fba"),r=a("e5f6"),c=a("fa7c"),i=a("d243"),u=a("5aa0"),s=a("8db7");function d(e){return Array.isArray(e)?!e.length:0!==e&&!e}function b(e,t){if(d(e)){if(t.required)return!1;if(!1===t.validateEmpty)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function f(e,t){return new Promise(a=>{const o=t.validator(e,t);Object(c["i"])(o)?o.then(a):a(o)})}function g(e,t){const{message:a}=t;return Object(c["e"])(a)?a(e,t):a||""}function v({target:e}){e.composing=!0}function m({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function j(e,t){const a=Object(s["b"])();e.style.height="auto";let o=e.scrollHeight;if(Object(c["h"])(t)){const{maxHeight:e,minHeight:a}=t;void 0!==e&&(o=Math.min(o,e)),void 0!==a&&(o=Math.max(o,a))}o&&(e.style.height=o+"px",Object(s["g"])(a))}function p(e){return"number"===e?{type:"text",inputmode:"decimal"}:"digit"===e?{type:"tel",inputmode:"numeric"}:{type:e}}function O(e){return[...e].length}function h(e,t){return[...e].slice(0,t).join("")}var V=a("3d6b"),y=a("450f"),x=a("05df"),C=a("efd9"),w=a("9a1c"),N=a("6c44");const[S,k]=Object(n["a"])("field"),T={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:r["f"],formatter:Function,clearIcon:Object(r["e"])("clear"),modelValue:Object(r["c"])(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:Object(r["e"])("focus"),formatTrigger:Object(r["e"])("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},I=Object(c["a"])({},V["a"],T,{rows:r["f"],type:Object(r["e"])("text"),rules:Array,autosize:[Boolean,Object],labelWidth:r["f"],labelClass:r["h"],labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var B=Object(l["defineComponent"])({name:S,props:I,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:a}){const o=Object(x["a"])(),n=Object(l["reactive"])({status:"unvalidated",focused:!1,validateMessage:""}),r=Object(l["ref"])(),V=Object(l["ref"])(),S=Object(l["ref"])(),{parent:T}=Object(y["useParent"])(i["g"]),I=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},B=t=>Object(c["d"])(e[t])?e[t]:T&&Object(c["d"])(T.props[t])?T.props[t]:void 0,M=Object(l["computed"])(()=>{const t=B("readonly");if(e.clearable&&!t){const t=""!==I(),a="always"===e.clearTrigger||"focus"===e.clearTrigger&&n.focused;return t&&a}return!1}),A=Object(l["computed"])(()=>S.value&&a.input?S.value():e.modelValue),_=Object(l["computed"])(()=>{var t;const a=B("required");return"auto"===a?null==(t=e.rules)?void 0:t.some(e=>e.required):a}),E=e=>e.reduce((e,t)=>e.then(()=>{if("failed"===n.status)return;let{value:e}=A;if(t.formatter&&(e=t.formatter(e,t)),!b(e,t))return n.status="failed",void(n.validateMessage=g(e,t));if(t.validator){if(d(e)&&!1===t.validateEmpty)return;return f(e,t).then(a=>{a&&"string"===typeof a?(n.status="failed",n.validateMessage=a):!1===a&&(n.status="failed",n.validateMessage=g(e,t))})}}),Promise.resolve()),F=()=>{n.status="unvalidated",n.validateMessage=""},z=()=>t("endValidate",{status:n.status,message:n.validateMessage}),P=(a=e.rules)=>new Promise(o=>{F(),a?(t("startValidate"),E(a).then(()=>{"failed"===n.status?(o({name:e.name,message:n.validateMessage}),z()):(n.status="passed",o(),z())})):o()}),R=t=>{if(T&&e.rules){const{validateTrigger:a}=T.props,o=Object(c["m"])(a).includes(t),l=e.rules.filter(e=>e.trigger?Object(c["m"])(e.trigger).includes(t):o);l.length&&P(l)}},U=t=>{var a;const{maxlength:o}=e;if(Object(c["d"])(o)&&O(t)>+o){const e=I();if(e&&O(e)===+o)return e;const l=null==(a=r.value)?void 0:a.selectionEnd;if(n.focused&&l){const e=[...t],a=e.length-+o;return e.splice(l-a,a),e.join("")}return h(t,+o)}return t},L=(a,o="onChange")=>{const l=a;a=U(a);const i=O(l)-O(a);if("number"===e.type||"digit"===e.type){const t="number"===e.type;a=Object(u["e"])(a,t,t)}let s=0;if(e.formatter&&o===e.formatTrigger){const{formatter:t,maxlength:o}=e;if(a=t(a),Object(c["d"])(o)&&O(a)>+o&&(a=h(a,+o)),r.value&&n.focused){const{selectionEnd:e}=r.value,a=h(l,e);s=O(t(a))-O(a)}}if(r.value&&r.value.value!==a)if(n.focused){let{selectionStart:e,selectionEnd:t}=r.value;if(r.value.value=a,Object(c["d"])(e)&&Object(c["d"])(t)){const o=O(a);i?(e-=i,t-=i):s&&(e+=s,t+=s),r.value.setSelectionRange(Math.min(e,o),Math.min(t,o))}}else r.value.value=a;a!==e.modelValue&&t("update:modelValue",a)},W=e=>{e.target.composing||L(e.target.value)},D=()=>{var e;return null==(e=r.value)?void 0:e.blur()},H=()=>{var e;return null==(e=r.value)?void 0:e.focus()},G=()=>{const t=r.value;"textarea"===e.type&&e.autosize&&t&&j(t,e.autosize)},q=e=>{n.focused=!0,t("focus",e),Object(l["nextTick"])(G),B("readonly")&&D()},J=e=>{n.focused=!1,L(I(),"onBlur"),t("blur",e),B("readonly")||(R("onBlur"),Object(l["nextTick"])(G),Object(s["f"])())},Y=e=>t("clickInput",e),X=e=>t("clickLeftIcon",e),K=e=>t("clickRightIcon",e),$=e=>{Object(s["e"])(e),t("update:modelValue",""),t("clear",e)},Q=Object(l["computed"])(()=>"boolean"===typeof e.error?e.error:!(!T||!T.props.showError||"failed"!==n.status)||void 0),Z=Object(l["computed"])(()=>{const e=B("labelWidth"),t=B("labelAlign");if(e&&"top"!==t)return{width:Object(u["b"])(e)}}),ee=a=>{const o=13;if(a.keyCode===o){const t=T&&T.props.submitOnEnter;t||"textarea"===e.type||Object(s["e"])(a),"search"===e.type&&D()}t("keypress",a)},te=()=>e.id||o+"-input",ae=()=>n.status,oe=()=>{const t=k("control",[B("inputAlign"),{error:Q.value,custom:!!a.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(a.input)return Object(l["createVNode"])("div",{class:t,onClick:Y},[a.input()]);const n={id:te(),ref:r,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:B("disabled"),readonly:B("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?o+"-label":void 0,onBlur:J,onFocus:q,onInput:W,onClick:Y,onChange:m,onKeypress:ee,onCompositionend:m,onCompositionstart:v};return"textarea"===e.type?Object(l["createVNode"])("textarea",n,null):Object(l["createVNode"])("input",Object(l["mergeProps"])(p(e.type),n),null)},le=()=>{const t=a["left-icon"];if(e.leftIcon||t)return Object(l["createVNode"])("div",{class:k("left-icon"),onClick:X},[t?t():Object(l["createVNode"])(w["a"],{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},ne=()=>{const t=a["right-icon"];if(e.rightIcon||t)return Object(l["createVNode"])("div",{class:k("right-icon"),onClick:K},[t?t():Object(l["createVNode"])(w["a"],{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},re=()=>{if(e.showWordLimit&&e.maxlength){const t=O(I());return Object(l["createVNode"])("div",{class:k("word-limit")},[Object(l["createVNode"])("span",{class:k("word-num")},[t]),Object(l["createTextVNode"])("/"),e.maxlength])}},ce=()=>{if(T&&!1===T.props.showErrorMessage)return;const t=e.errorMessage||n.validateMessage;if(t){const e=a["error-message"],o=B("errorMessageAlign");return Object(l["createVNode"])("div",{class:k("error-message",o)},[e?e({message:t}):t])}},ie=()=>{const t=B("labelWidth"),n=B("labelAlign"),r=B("colon")?":":"";return a.label?[a.label(),r]:e.label?Object(l["createVNode"])("label",{id:o+"-label",for:a.input?void 0:te(),onClick:e=>{Object(s["e"])(e),H()},style:"top"===n&&t?{width:Object(u["b"])(t)}:void 0},[e.label+r]):void 0},ue=()=>[Object(l["createVNode"])("div",{class:k("body")},[oe(),M.value&&Object(l["createVNode"])(w["a"],{ref:V,name:e.clearIcon,class:k("clear")},null),ne(),a.button&&Object(l["createVNode"])("div",{class:k("button")},[a.button()])]),re(),ce()];return Object(C["a"])({blur:D,focus:H,validate:P,formValue:A,resetValidation:F,getValidationStatus:ae}),Object(l["provide"])(y["CUSTOM_FIELD_INJECTION_KEY"],{customValue:S,resetValidation:F,validateWithTrigger:R}),Object(l["watch"])(()=>e.modelValue,()=>{L(I()),F(),R("onChange"),Object(l["nextTick"])(G)}),Object(l["onMounted"])(()=>{L(I(),e.formatTrigger),Object(l["nextTick"])(G)}),Object(y["useEventListener"])("touchstart",$,{target:Object(l["computed"])(()=>{var e;return null==(e=V.value)?void 0:e.$el})}),()=>{const t=B("disabled"),o=B("labelAlign"),n=le(),r=()=>{const e=ie();return"top"===o?[n,e].filter(Boolean):e||[]};return Object(l["createVNode"])(N["a"],{size:e.size,class:k({error:Q.value,disabled:t,["label-"+o]:o}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:Z.value,valueClass:k("value"),titleClass:[k("label",[o,{required:_.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:n&&"top"!==o?()=>n:null,title:r,value:ue,extra:a.extra})}}});const M=Object(o["a"])(B)}}]);